<!--
  Generated template for the MovieDetailsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-content [ngStyle]="{ 'background': 'linear-gradient(rgba(0, 0, 0, 0.7),rgba(0, 0, 0, 0.45)), url('+bgUrl+')', 'background-position': 'center','background-repeat': 'no-repeat', 'background-size': 'cover' }" >

  <div id="animationDiv" class="custom-background">

    <ion-toolbar no-border-top transparent>
      <button ion-button icon-only clear (click)="goBack()">
        <ion-icon name="arrow-back"></ion-icon>
      </button>
    </ion-toolbar>


    <div id="content" padding [@myAnimation]>
      <ion-card class="posterImage" text-center *ngIf="movie.poster_path != null">
        <img-loader src="https://image.tmdb.org/t/p/w500{{movie.poster_path }}" useImg></img-loader>
      </ion-card>
      <ion-card class="posterImage" text-center *ngIf="movie.poster_path === null">
        <img-loader src="assets/imgs/fallback.png" useImg></img-loader>
      </ion-card>

      <p class="title"><b>{{movie.title}}</b></p>

      <!-- <p text-center>
        <span *ngFor="let star of rating">
          <ion-icon *ngIf="star" name="star" color="primary"></ion-icon>
          <ion-icon *ngIf="!star" name="star" color="dark"></ion-icon>
        </span>
      </p> -->



      <ion-grid>
        <ion-row>
          <ion-col col-6>
            <p class="releaseDate"><b>Release Date:</b> <br /> {{movie.release_date}}</p>
          </ion-col>
          <ion-col float-right col-6 *ngIf="movie.vote_average != 0">
            <circle-progress [percent]="movie.vote_average*10"></circle-progress>
          </ion-col>
        </ion-row>
      </ion-grid>

      <p class="overview" text-justify><b>Overview:</b><br />{{movie.overview}}</p>

      <p class="releaseDate" *ngIf="trailers.length != 0"><b>Trailer(s):</b></p>

    </div>

    <ion-scroll scrollX="true" style="width: 400px; height: 180px;">
      <div class="inner" [ngStyle]="{'width': trailers.length*280 + 'px'}">
        <div class="list list-inset" *ngFor="let trailer of trailers" (click)="openVideo(trailer.key)" no-shadow no-border>
          <img src="https://img.youtube.com/vi/{{trailer.key}}/default.jpg" />
        </div>
      </div>
    </ion-scroll>

    <br />


  </div>
</ion-content>
